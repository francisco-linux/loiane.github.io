---
layout: post
title: 'Começando com Phone Gap (Cordova): Hello World Android'
date: 2012-06-11 04:30:52.000000000 -03:00
type: post
published: true
status: publish
categories:
- Phone Gap (Cordova)
tags:
- Android
- Cordova
- Eclipse IDE
- PhoneGap
language: pt-br
tag: pt-br
---
<p>Mais um post sobre PhoneGap/Cordova aqui no blog! O <a title="Começando com Phone Gap (Cordova): Hello Word iOS" href="http://www.loiane.com/2012/05/comecando-com-phone-gap-cordova-hello-word-ios/" target="_blank">primeiro foi sobre iOS</a> e hoje vamos aprender como integrar o PhoneGap/Cordova com Android usando o Eclipse.</p>
<blockquote><p><strong><span style="color: #ff0000;">Atenção, este post está desatualizado!</span></strong></p>
<p>Para phonegap 2, veja: <a href="http://www.loiane.com/2012/11/comecando-com-phone-gap-2-cordova-hello-world-android/" target="_blank">http://www.loiane.com/2012/11/comecando-com-phone-gap-2-cordova-hello-world-android/</a></p></blockquote>
<p>Existem duas maneiras bem simples de começar com PhoneGap/Cordova e Android. A primeira é fazer tudo manualmente, que é o assunto do post de hoje e a segunda é utilizando um plugin do Eclipse para nos economizar um pouco de trabalho, que será discutido na segunda parte desse tutorial.</p>
<p><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegapcordovalogo.png"><img class="aligncenter size-full wp-image-4673" title="phonegapcordovalogo" alt="" src="{{ site.baseurl }}/assets/phonegapcordovalogo.png" width="217" height="116" /></a></p>
<h2><em>Requisitos</em>:</h2>
<ul>
<li><a href="http://www.eclipse.org/downloads/" target="_blank">Eclipse IDE</a> (qualquer plataforma)</li>
<li><a href="http://developer.android.com/sdk/index.html" target="_blank">Android SDK</a></li>
<li><a href="http://developer.android.com/sdk/eclipse-adt.html#installing" target="_blank">ADT Plugin</a> para Eclipse</li>
<li><a href="http://phonegap.com/download" target="_blank">Phone Gap SDK</a></li>
</ul>
<div>Para esse tutorial, também é requisito já ter o ambiente Android todo configurado, ou seja, ter o SDK instalado na sua máquina e o plugin para Eclipse instalado também. Para maiores informações veja os dois links a seguir:</div>
<div>
<ul>
<li><a href="http://developer.android.com/sdk/installing.html" target="_blank">http://developer.android.com/sdk/installing.html</a></li>
<li><a href="http://developer.android.com/sdk/eclipse-adt.html#installing" target="_blank">http://developer.android.com/sdk/eclipse-adt.html#installing</a></li>
</ul>
</div>
<h2>Passo a passo:</h2>
<ol>
<li>Criar uma aplicação Android</li>
<li>Adicionar o Phone Gap/Cordova no Projeto</li>
<li>Implementar o Hello World</li>
<li>Executar no Emulador Android</li>
<li>Próximos Passos</li>
</ol>
<h1>1 - Criar uma aplicação Android</h1>
<p>1.1 - O primeiro passo é criar um projeto Android. Para isso vá em <strong>Menu</strong> -&gt; <strong>New</strong> -&gt; <strong>New Project</strong>:</p>
<p><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-01.png"><img class="aligncenter size-full wp-image-4681" title="phonegap-cordova-helloworld-loiane-android-01" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-01.png" width="519" height="267" /></a></p>
<p>1.2 - Escolha <strong>Android Project</strong>:</p>
<p style="text-align: center;"><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-02.png"><img class="aligncenter  wp-image-4682" title="phonegap-cordova-helloworld-loiane-android-02" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-02.png" width="575" height="553" /></a></p>
<p>1.3 - Dê um nome para seu projeto. Neste tutorial vou usar <em><strong>CordovaHelloWorld</strong></em>:</p>
<p style="text-align: center;"><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-03.png"><img class="aligncenter  wp-image-4683" title="phonegap-cordova-helloworld-loiane-android-03" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-03.png" width="575" height="543" /></a></p>
<p>1.4 - Escolha a versão da API do Android. Para este tutorial vou usar a mais recente:</p>
<p style="text-align: center;"><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-04.png"><img class="aligncenter  wp-image-4684" title="phonegap-cordova-helloworld-loiane-android-04" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-04.png" width="575" height="703" /></a></p>
<p>1.5 - Dê um nome para o pacote e clique em <em>Finish</em>:</p>
<p style="text-align: center;"><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-05.png"><img class="aligncenter  wp-image-4685" title="phonegap-cordova-helloworld-loiane-android-05" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-05.png" width="575" height="475" /></a></p>
<p>1.6 - O projeto Android está criado! O projeto tem uma estrutura como a abaixo:</p>
<p><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-06.png"><img class="aligncenter size-full wp-image-4686" title="phonegap-cordova-helloworld-loiane-android-06" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-06.png" width="255" height="281" /></a></p>
<h1>2 - Adicionar o Phone Gap/Cordova no Projeto</h1>
<p>2.1 - O próximo passo é adicionar o PhoneGap/Cordova ao Projeto. Mas para isso precisamos preparar a estrutura do projeto para receber os arquivos. O primeiro passo é criar uma pasta chamada <em><strong>www</strong></em> dentro do diretório <em><strong>assets</strong></em>:</p>
<p><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-07.png"><img class="aligncenter size-full wp-image-4687" title="phonegap-cordova-helloworld-loiane-android-07" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-07.png" width="523" height="581" /></a></p>
<p>2.2 - Também precisamos criar uma pasta chamada <em><strong>libs</strong></em> na raiz do projeto:</p>
<p><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-08.png"><img class="aligncenter size-full wp-image-4688" title="phonegap-cordova-helloworld-loiane-android-08" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-08.png" width="525" height="582" /></a></p>
<p>2.3 - Agora que já temos a estrutura preparada, dentro do SDK do PhoneGap você vai entrar o arquivo <em><strong>cordova-1.7.0.js</strong></em> dentro do diretório <em><strong>lib/android</strong></em>. Copie esse arquivo para a pasta <em><strong>assets/www</strong></em> que acabamos de criar:</p>
<p><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-09.png"><img class="aligncenter size-full wp-image-4689" title="phonegap-cordova-helloworld-loiane-android-09" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-09.png" width="594" height="634" /></a></p>
<p>2.4 - Copie o arquivo <em><strong>cordova-1.7.0.jar</strong></em> (que encontra-se dentro do diretório <em><strong>lib/android</strong></em>) para dentro da pasta <em><strong>libs</strong></em> que também criamos:</p>
<p><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-10.png"><img class="aligncenter size-full wp-image-4690" title="phonegap-cordova-helloworld-loiane-android-10" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-10.png" width="594" height="634" /></a></p>
<p>2.5 - E por último, copie a pasta <em><strong>xml</strong></em> e todo o seu conteúdo (também do diretório <em><strong>lib/android</strong></em>) para dentro da pasta <em><strong>res</strong></em>:</p>
<p><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-11.png"><img class="aligncenter size-full wp-image-4691" title="phonegap-cordova-helloworld-loiane-android-11" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-11.png" width="594" height="634" /></a></p>
<p>2.6 - No final, a estrutura do projeto ficará assim:</p>
<p><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-12.png"><img class="aligncenter size-full wp-image-4692" title="phonegap-cordova-helloworld-loiane-android-12" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-12.png" width="210" height="384" /></a></p>
<p>2.7 - Agora precisamos adicionar o phonegap/cordova ao build path do projeto. Para isso, clique com o botão direito em cima da pasta <strong>libs</strong> -&gt; <strong>Build Path</strong> -&gt; <strong>Configure Build Path</strong>:</p>
<p style="text-align: center;"><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-13.png"><img class="aligncenter  wp-image-4693" title="phonegap-cordova-helloworld-loiane-android-13" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-13.png" width="590" height="275" /></a></p>
<p>2.8 - Clique em <em>Add JARs</em>...:</p>
<p style="text-align: center;"><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-14.png"><img class="aligncenter  wp-image-4694" title="phonegap-cordova-helloworld-loiane-android-14" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-14.png" width="526" height="375" /></a></p>
<p>2.9 - Escolha o arquivo <em>jar</em> que adicionamos no projeto:</p>
<p><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-15.png"><img class="aligncenter size-full wp-image-4695" title="phonegap-cordova-helloworld-loiane-android-15" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-15.png" width="400" height="413" /></a></p>
<p>2.10 - Clique em <em>OK</em>. Pronto. Agora tudo está configurado e podemos começar a implementar o Hello World!</p>
<p style="text-align: center;"><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-16.png"><img class="aligncenter  wp-image-4696" title="phonegap-cordova-helloworld-loiane-android-16" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-16.png" width="526" height="375" /></a></p>
<h1>3 - Implementar o Hello World</h1>
<p>3.1 - Para implementarmos o HelloWorld, precisamos fazer algumas mudanças na classe Activity:</p>
<ul>
<li>A primeira mudança é extender a classe <strong>DroidGap</strong> ao invés de <strong>Activity</strong>;</li>
<li>A segunda mudança é substituir a linha <strong>setContentView() </strong>por <strong>super.loadUrl("file:///android_asset/www/index.html");</strong></li>
</ul>
<div>No final a classe ficará assim (vou colocar os screenshots aqui, no final do post coloco o link com o código fonte completo para download):</div>
<div><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-17.png"><img class="aligncenter size-full wp-image-4697" title="phonegap-cordova-helloworld-loiane-android-17" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-17.png" width="522" height="235" /></a></div>
<div></div>
<div>3.2 - Depois precisamos editar o arquivo<strong> AndroidManifest.xml</strong>. Precisamos adicionar o seguinte conteúdo entre as tags <strong>&lt;uses-sdk.../&gt;</strong> e <strong>&lt;application.../&gt;:</strong></div>
<p>[code lang="xml" firstline="1" toolbar="true" collapse="false" wraplines="false"]<br />
&lt;supports-screens<br />
    android:largeScreens=&quot;true&quot;<br />
    android:normalScreens=&quot;true&quot;<br />
    android:smallScreens=&quot;true&quot;<br />
    android:resizeable=&quot;true&quot;<br />
    android:anyDensity=&quot;true&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.ACCESS_LOCATION_EXTRA_COMMANDS&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot; /&gt;<br />
&lt;uses-permission android:name=&quot;android.permission.BROADCAST_STICKY&quot; /&gt;<br />
[/code]</p>
<div></div>
<div>3.3 - Além disso, precisamos adicionar o atributo <strong>android:configChanges="orientation|keyboardHidden|screenSize"</strong> dentro da tag <strong>activity</strong>. No final, o arquivo vai ficar assim:</div>
<div><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-18.png"><img class="aligncenter  wp-image-4698" title="phonegap-cordova-helloworld-loiane-android-18" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-18.png" width="597" height="688" /></a></div>
<div></div>
<div>3.4 - Por último, precisamos criar uma página index.html dentro da pasta www:</div>
<div><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-19.png"><img class="aligncenter size-full wp-image-4699" title="phonegap-cordova-helloworld-loiane-android-19" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-19.png" width="525" height="582" /></a></div>
<div></div>
<div>3.5 - A página index.html vai ficar assim:</div>
<div><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-20.png"><img class="aligncenter  wp-image-4700" title="phonegap-cordova-helloworld-loiane-android-20" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-20.png" width="542" height="167" /></a></div>
<h1>4 - Executar no Emulador Android</h1>
<p>4.1 - Tudo pronto! Vamos executar agora! Clique com o botão direito em cima do projeto e escolha <strong>Run As</strong> -&gt; <strong>Android Application</strong>:</p>
<p style="text-align: center;"><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-21.png"><img class="aligncenter  wp-image-4701" title="phonegap-cordova-helloworld-loiane-android-21" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-21.png" width="563" height="533" /></a></p>
<p>4.2 - Aguarde um momento que o emulador vai abrir e executar a nossa aplicação:</p>
<p style="text-align: center;"><a href="http://www.loiane.com/wp-content/uploads/2012/06/phonegap-cordova-helloworld-loiane-android-22.png" target="_blank"><img class="aligncenter  wp-image-4702" title="phonegap-cordova-helloworld-loiane-android-22" alt="" src="{{ site.baseurl }}/assets/phonegap-cordova-helloworld-loiane-android-22.png" width="574" height="535" /></a></p>
<h1>5 - Próximos Passos</h1>
<p>Agora basta estudar a API e soltar a criatividade!</p>
<p>O código fonte completo desse tutorial pode ser conferido aqui: <a href="https://github.com/loiane/cordova-android-helloworld" target="_blank">https://github.com/loiane/cordova-android-helloworld</a></p>
<h1><em>Update Novembro 2012:</em></h1>
<p><em>Esse tutorial vale apenas para <strong>phonegap 1.x</strong> - a versão 2 é totalmente diferente. Em breve um post atualizado aqui no blog.</em></p>
<p>Até a próxima!</p>
